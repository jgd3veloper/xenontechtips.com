!function(t,i,e,n){t.filtery=function(n,l){var o={wrapper:null,filterables:".filterable",activeFilterClass:"active",notFound:null},a=this;a.opts={};var r=(t(i),t(e),t(n)),f=null,s=null,u=null,d=null,c=null;a.init=function(){a.opts=t.extend({},o,l),a._construct()},a._construct=function(){if(u=t(a.opts.wrapper),!u.length)return void console.log("Cannot find filterable items wrapper");f=r.find("[data-filter]"),d=u.find(a.opts.filterables),s=null===a.opts.notFound?t(".not-found"):a.opts.notFound,a.setup(),a.events()},a.setup=function(){c=f.filter("."+a.opts.activeFilterClass).data("filter"),a.applyFilter(c),a.updateCount()},a.events=function(){f.on("click",a.onClick)},a.updateCount=function(){f.each(function(){var i=t(this),e=i.find(".ee-filters__item__count"),n=i.data("filter"),l=d.filter(n);e.html(l.length)})},a.onClick=function(i){var e=t(i.target),n=e.data("filter");c!==n&&(a.applyFilter(n),c=n)},a.applyFilter=function(t){if(t){d=u.find(a.opts.filterables);var i=d.filter(t),e=f.filter('[data-filter="'+t+'"]');d.filter(":not("+t+")").hide(),f.removeClass(a.opts.activeFilterClass),i.show(),e.addClass(a.opts.activeFilterClass),s.length&&(i.length?s.hide():s.show()),a.updateCount()}},a.update=function(){a.applyFilter(c)},a.destroy=function(){f.off("click",a.onClick)},a.init()},t.fn.filtery=function(i){return this.each(function(){if(t.fn.filtery.destroy=function(){void 0!==e&&(t(this).data("filtery").destroy(),t(this).removeData("filtery"))},t.fn.filtery.update=function(){void 0!==e&&t(this).data("filtery").update()},void 0===t(this).data("filtery")){var e=new t.filtery(this,i);t(this).data("filtery",e)}})}}(jQuery,window,document);